<div class="input-wrapper">
    <div *ngIf="isLoading" class="overlayloader">
        <div class="loader"></div>
    </div>
    <!-- loading section -->
    <div class="aligncenter_loader" *ngIf="isPageLoading">
        <div class="is-loading"><i class="page-loader"></i></div>        
    </div>
    <!-- loading section ends  -->
    <div class="card" *ngIf="!isPageLoading">
        <div class="card-header">
            <strong>{{inputID ? 'Edit' : 'Add'}} Input</strong>
        </div>
        <form role="form" (ngSubmit)="save()" #addInputsForm="ngForm">
            <div class="card-block">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group  has-required">
                            <label for="nf-name">Name</label>
                            <input autofocus="" type="text" id="name" name="name" class="form-control" #name="ngModel" [(ngModel)]="input.name" pattern="[a-zA-Z][a-zA-Z0-9!@#$%^&*()\s]*" required>
                            <div class="error-block">
                                <small *ngIf="name.errors?.required && name.touched" class="text-danger">
                                    Name is required.
                                </small>
                                <small *ngIf="name.errors?.pattern && name.touched" class="text-danger">
                                    Name is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="seller">Seller</label>
                            <select id="seller" name="seller" class="form-control" size="1" [(ngModel)]="input.sellerID">
                                <option value="">Please select</option>
                                <option *ngFor="let obj of sellers" value="{{obj.id}}">
                                    {{obj.username}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-category">Category</label>
                            <select id="category1" name="category1" class="form-control" size="1" #category1="ngModel" [(ngModel)]="input.categoryID" required>
                                <option value="">Please select</option>
                                <option *ngFor="let cat of categories" value="{{cat.id}}">{{cat.name}}</option>
                            </select>
                             <div class="error-block">
                                <small *ngIf="category1.errors?.required && category1.touched" class="text-danger">
                                    Category is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group  has-required">
                            <label for="nf-password">Company/Manufacturer</label>
                            <select id="Manufacturer" name="Manufacturer" class="form-control" size="1" #Manufacturer="ngModel" [(ngModel)]="input.manufacturerID" required>
                                <option value="">Please select</option>
                                <option *ngFor="let mf of manufacturers" [ngValue]="mf.id">
                                    {{mf.name}}
                                </option>
                            </select>
                            <div class="error-block">
                                <small *ngIf="Manufacturer.errors?.required && Manufacturer.touched" class="text-danger">
                                    Company/Manufacturer is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-unit">Unit</label>
                            <select size="1" id="units" name="units" class="form-control" #units="ngModel" [(ngModel)]="input.units" required>
                                <option value="">Please select</option>
                                <option value="Bags">Bags</option>
                                <option value="Litres">Litres</option>
                                <option value="Packets">Packets</option>
                                <option value="Pieces">Pieces</option>
                                <option value="Tons">Tons</option>
                            </select>
                            <div class="error-block">
                                <small *ngIf="units.errors?.required && units.touched" class="text-danger">
                                    Unit is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-variety">Variety</label>
                            <select id="select1" name="select1" class="form-control" #variety="ngModel" [(ngModel)]="input.variety" size="1" required>
                                <option value="">Please select</option>
                                <option value="Variety 1">Variety 1</option>
                                <option value="Variety 2">Variety 2</option>
                                <option value="Variety 3">Variety 3</option>
                            </select>
                            <div class="error-block">
                                <small *ngIf="variety.errors?.required && variety.touched" class="text-danger">
                                    Variety is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-price">Price </label>
                            <div class="flex">
                                <div class="icnposition"><i class="fa fa-rupee"></i></div>
                                <input type="number" id="price" name="price" class="form-control  pleft25" #price="ngModel" [(ngModel)]="input.price" required>
                            </div>
                            <div class="error-block">
                                <small *ngIf="price.errors?.required && price.touched" class="text-danger">
                                    Price is required.
                                </small>                                                          
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="nf-quantity">Quantity</label>
                            <input type="number" id="quantity" name="quantity" class="form-control" [(ngModel)]="input.quantity">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="address">Address</label>
                            <input type="text" id="address" name="address" #address="ngModel"  class="form-control" [(ngModel)]="input.address" placeholder="" required />
                            <div class="error-block">
                                <small *ngIf="address.errors?.required && address.touched" class="text-danger">
                                    Address is required.
                                </small>                                                          
                            </div> 
                        </div>                                    
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-city">City/Village</label>
                            <input type="text" id="nf-city" name="city" #city="ngModel" class="form-control" [(ngModel)]="input.city" placeholder="" required>
                            <div class="error-block">
                                <small *ngIf="city.errors?.required && city.touched" class="text-danger">
                                    City is required.
                                </small>                                                          
                            </div> 
                        </div>
                    </div> 
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="state">State</label>
                            <select id="state" name="state" (change)="setDistrict();"  [(ngModel)]="input.state" placeholder="" required class="form-control" size="1" #state="ngModel" required>
                                <option value="">Please select</option>
                                <option *ngFor="let state of states" [value]="state.stateName">
                                    {{state.stateName}}
                                </option>                                       
                            </select>
                            <div class="error-block">
                                <small *ngIf="state.errors?.required && state.touched" class="text-danger">
                                    State is required.
                                </small>                                                        
                            </div> 
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="district">District</label>
                            <select id="district" name="district"  [(ngModel)]="input.district" placeholder="" required class="form-control" size="1" #district="ngModel" required>
                                <option value="">Please select</option>
                                <option *ngFor="let district of districts" [value]="district.districtName">
                                    {{district.districtName}}
                                </option>                                       
                            </select>
                            <div class="error-block">
                                <small *ngIf="district.errors?.required && district.touched" class="text-danger">
                                    District is required.
                                </small>                                                        
                            </div> 
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group has-required">
                            <label for="nf-pincode">Pin Code </label>
                            <input type="number" id="nf-pincode" name="pincode" #pincode="ngModel" class="form-control" [(ngModel)]="input.pincode" min="1" max="999999" placeholder="" required>
                            <div class="error-block">
                                <small *ngIf="pincode.errors?.required && pincode.touched" class="text-danger">
                                    Pin Code is required.
                                </small>                                
                                <small *ngIf="pincode.errors?.min && pincode.touched" class="text-danger">
                                    Minimum value should be 1.
                                </small>                                
                                <small *ngIf="pincode.errors?.max && pincode.touched" class="text-danger">
                                    maximum 6 digit allow.
                                </small>                                                          
                            </div> 
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="nf-additionalInformation">Additional information</label>
                            <textarea type="text" id="nf-additionalInformation" name="nf-additionalInformation" class="form-control" [(ngModel)]="input.additionalInformation" rows="4"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="nf-terms">Terms & Conditions</label>
                            <textarea type="text" id="terms" name="terms" class="form-control" [(ngModel)]="input.terms" rows="4"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button type="reset" class="btn btn-secondary whiteclr" [routerLink]="['/inputs/list']"> Cancel</button>
                <button type="submit" class="pull-right btn btn-primary orangeclr" [disabled]="!addInputsForm.valid">{{inputId ? 'Update' : 'Save'}}</button>
            </div>
        </form>
    </div>
    <!-- .card -->
</div>
<!-- .inputs-wrapper -->
